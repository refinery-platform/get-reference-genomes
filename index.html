<!DOCTYPE html>
<html>
<head>
    <title>IGV Reference Data Example</title>
    <!-- jQuery UI CSS -->
    <link rel="stylesheet" type="text/css"
          href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/themes/smoothness/jquery-ui.css"/>
    <!-- Font Awesome CSS -->
    <link rel="stylesheet" type="text/css"
          href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css"/>
    <!-- IGV CSS -->
    <link rel="stylesheet" type="text/css" href="https://igv.org/web/release/1.0.5/igv-1.0.5.css">
    <!-- jQuery JS -->
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <script type="text/javascript"
            src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.11.2/jquery-ui.min.js"></script>
    <!-- IGV JS-->
    <script type="text/javascript" src="https://igv.org/web/release/1.0.5/igv-1.0.5.js"></script>
</head>
<body>
<p>
  This is a demonstation of IGV running against a test dataset produced by
  <a href="https://github.com/refinery-platform/get-reference-genomes">get-reference-genomes</a>.
  If the tests are passing, and genome-to-s3.sh has been run,
  then the same tracks should be available on S3.
<p>
<div class="container-fluid" id="igv"></div>
<script type="text/javascript">

    $(document).ready(function () {

        var div = $("#igv")[0],
                options = {
                    showNavigation: true,
                    showRuler: true,
                    genome: "hg19",
                    locus: "chr1:10000-40000",
                    // TODO: use local copies
//                    reference: {
//                        fastaURL: 'https://s3.amazonaws.com/data.cloud.refinery-platform.org/data/igv-reference/hg19/hg19.fa',
//                        indexURL: 'https://s3.amazonaws.com/data.cloud.refinery-platform.org/data/igv-reference/hg19/hg19.fa.fai',
//                        cytobandURL: 'https://s3.amazonaws.com/data.cloud.refinery-platform.org/data/igv-reference/hg19/cytoBand.txt'
//                    },
                    tracks: [
                        {
                            name: "Genes, full",
                            type: "annotation",
                            format: "bed",
                            sourceType: "file",
                            url: "tests/output/refGene.bed.head",
                            indexURL: "tests/output/refGene.bed.tbi.head",
                            displayMode: "EXPANDED"
                        }

                    ]
                };

        igv.createBrowser(div, options);

    });

</script>
</body>
</html>
